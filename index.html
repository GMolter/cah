<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>CA(D)H</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./styles.css?v=9">
</head>
<body>
  <header>
    <div class="brand">Cards Against (Digital) Humanity</div>
    <div class="room-tag" id="room-tag"></div>
  </header>

  <div class="container">
    <div class="panel cards-area">
      <div class="row">
        <div class="title">Round</div>
        <div class="pill" id="round-pill">Waiting…</div>
        <div class="pill" id="role-pill">Spectator</div>
        <div id="host-controls" class="row" style="margin-left:auto;display:none">
          <button id="start-btn" class="primary">Start round</button>
        </div>
      </div>

      <div id="black-slot" class="row"></div>

      <div class="section" id="stage"></div>
    </div>

    <div class="panel">
      <div class="row">
        <div class="title">Players</div>
        <div class="muted" id="player-count"></div>
      </div>
      <div id="players" class="list" style="margin-bottom:12px"></div>

      <div class="section chat">
        <div id="chat-log" class="chat-log"></div>
        <div class="row">
          <input id="chat-input" placeholder="Type a message…" />
          <button id="chat-send" class="primary">Send</button>
        </div>
        <div class="footer-note">Tip: only the host can start rounds; need 3+ players.</div>
      </div>
    </div>
  </div>

  <!-- JOIN MODAL -->
  <div id="join-modal">
    <div class="modal-card fade-in">
      <h3 style="margin:6px 0 12px">Join a Room</h3>
      <div class="grid">
        <div>
          <label class="muted">Display Name</label>
          <input id="name-input" placeholder="Your name" />
        </div>
        <div>
          <label class="muted">Room Code</label>
          <input id="room-input" placeholder="e.g. 4-digit or 6-letter code" />
        </div>
      </div>
      <div class="row" style="margin-top:12px">
        <button id="join-btn" class="primary">Join</button>
      </div>
    </div>
  </div>

  <!-- Load exactly ONE module; it imports the rest -->
  <script type="module" src="./src/app.js?v=9"></script>
</body>
</html>
